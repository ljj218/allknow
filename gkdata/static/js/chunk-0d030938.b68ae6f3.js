(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d030938"],{1:function(e,t){},"259b":function(e,t){e.exports={title:"2021高考志愿大数据分析-省榜--测试",baseURL:"https://apizy.eol.cn/niuzy/",time:6e3,retry:2,retryDelay:1e3,APPID:"xxx",APPSECRET:"xxx",redirect:"",$cdn:"https://s3.ax1x.com"}},7609:function(e,t,n){var r={"./env.development":"259b","./env.development.js":"259b","./env.production":"f1e0","./env.production.js":"f1e0","./env.staging":"e101","./env.staging.js":"e101"};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id="7609"},"7ba6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"schoolList"},[n("van-sticky",[n("div",{staticClass:"nav"},[n("van-nav-bar",{staticClass:"_nav-bar",attrs:{title:e.title,"left-arrow":e.arrow},on:{"click-left":function(t){return e.$router.back()}}}),n("ul",{staticClass:"flex options space-around"},[n("li",{staticClass:"item flex align-items justify-content",on:{click:function(t){e.showpicker=!0}}},[n("span",[e._v(e._s(e.levelName||"层次"))]),n("van-icon",{staticClass:"rotate",attrs:{name:"play",size:"10"}})],1),n("li",{staticClass:"item flex align-items justify-content",on:{click:function(t){e.showOptions=!0}}},[e._v(" "+e._s(e.tempTypeName||"门类")+" "),n("van-icon",{staticClass:"rotate",attrs:{name:"play",size:"10"}})],1),n("li",{staticClass:"item flex align-items justify-content",on:{click:function(t){e.showOptions=!0}}},[e._v(" "+e._s(e.tempClassName||"类型")+" "),n("van-icon",{staticClass:"rotate",attrs:{name:"play",size:"10"}})],1)])],1)]),n("van-list",{attrs:{finished:e.finished,"immediate-check":e.check,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.univList,(function(t,r){return n("div",{key:t.univName,staticClass:"item",attrs:{title:t}},[n("div",{staticClass:"flex"},[n("div",{staticClass:"rank",class:{bc:r<3}},[e._v(e._s(r+1))]),n("div",{staticClass:"ml"},[n("p",{staticClass:"name"},[e._v(e._s(t.majorName))]),t.label?n("p",{staticClass:"label"},[e._v(e._s(t.label))]):e._e()])]),n("div",{staticClass:"count"},[e._v(" "+e._s(e._f("formatNum")(t.reportNum))+" "),n("span",{staticClass:"num"},[e._v("万")]),n("span",{staticClass:"tag"},[e._v("次")])])])})),0),n("van-popup",{attrs:{position:"bottom"},model:{value:e.showpicker,callback:function(t){e.showpicker=t},expression:"showpicker"}},[n("van-picker",{attrs:{title:"","show-toolbar":"",columns:e.levelList,"default-index":e.levelIdIndex},on:{confirm:e.onConfirm,cancel:e.onCancel}})],1),n("van-popup",{style:{height:"40%"},attrs:{position:"bottom"},model:{value:e.showOptions,callback:function(t){e.showOptions=t},expression:"showOptions"}},[n("div",{staticClass:"container flex flex-direction"},[n("div",{staticClass:"nav flex space-between"},[n("div",{on:{click:e.cancel}},[e._v("取消")]),n("div",{staticClass:"sure",on:{click:e.sure}},[e._v("确定")])]),n("div",{staticClass:"content flex"},[n("ul",{staticClass:"leftScroll",class:{full:0==e.majorClassList.length}},e._l(e.majorTypeList,(function(t,r){return n("li",{key:r,staticClass:"_item",class:{active:t.value==e.typeId},on:{click:function(n){return e.selectTypeId(t)}}},[e._v(" "+e._s(t.text)+" ")])})),0),e.majorClassList.length>0?n("ul",{staticClass:"rightScroll"},e._l(e.majorClassList,(function(t,r){return n("li",{key:r,staticClass:"_item",class:{active:t.subclassId==e.classId},on:{click:function(n){return e.selectClassId(t)}}},[e._v(" "+e._s(t.name)+" ")])})),0):e._e()])])])],1)},a=[],s=n("0344"),i=n("e9ff"),o=(n("e186"),n("4cfc"),n("2c7c"),n("cd8f"),n("9b7e"),n("f96b")),c={name:"majorList",data:function(){return{arrow:!0,check:!1,title:"",provinceId:"",type:"",typeId:"",typeName:"",tempTypeName:"",levelId:"",levelName:"",classId:"",className:"",tempClassName:"",majorTypeId:"",score:"",pageNo:1,pageSize:10,univList:[],majorTypeList:[],classList:[],majorClassList:[],levelList:["全部","本科","专科"],loading:!1,finished:!1,showpicker:!1,showOptions:!1,isChangeType:!1}},computed:{levelIdIndex:function(){return this.levelId?this.levelId:0}},created:function(){switch(this.type=this.$route.query.type,this.provinceId=Number(this.$route.query.id),this.majorTypeId=this.$route.query.majorTypeId||"",this.score=this.$route.query.score||"",this.type){case"1":this.title="考生填报专业TOP300";break;case"2":this.title="同分考生报考专业TOP100";break;case"3":this.title="全国考生填报专业TOP500";break}},mounted:function(){this.init()},methods:{init:function(){var e=sessionStorage.getItem("_majorTypeList")||"";e?this.majorTypeList=JSON.parse(e):this.getmajorType(),this.pageNo=1,this.univList=[],this.getMajor()},onLoad:function(){this.loading&&(this.pageNo++,this.getMajor())},getMajor:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,t.prev=1,1!=e.type){t.next=6;break}return t.next=5,Object(o["m"])({pageNo:e.pageNo,pageSize:e.pageSize,provinceId:e.provinceId,typeId:e.typeId,levelId:e.levelId,classId:e.classId});case 5:n=t.sent;case 6:if("2"!=e.type){t.next=10;break}return t.next=9,Object(o["q"])({score:e.score,majorTypeId:e.majorTypeId,pageNo:e.pageNo,pageSize:e.pageSize,provinceId:e.provinceId,typeId:e.typeId,levelId:e.levelId,classId:e.classId});case 9:n=t.sent;case 10:if("3"!=e.type){t.next=14;break}return t.next=13,Object(o["f"])({pageNo:e.pageNo,pageSize:e.pageSize,classId:e.classId,typeId:e.typeId,levelId:e.levelId});case 13:n=t.sent;case 14:"0000"==n.resultCode&&(e.univList=[].concat(Object(s["a"])(e.univList),Object(s["a"])(n.data.list)),e.loading=!1,n.data.list.length<e.pageSize&&(e.finished=!0)),t.next=19;break;case 17:t.prev=17,t.t0=t["catch"](1);case 19:case"end":return t.stop()}}),t,null,[[1,17]])})))()},getmajorType:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o["d"])();case 3:n=t.sent,(n.resultCode="0000")&&(r=n.data,e.majorTypeList.push({text:"全部",value:""}),r.forEach((function(t){e.majorTypeList.push({text:t.name,value:t.classId})})),sessionStorage.setItem("_majorTypeList",JSON.stringify(e.majorTypeList))),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getMajorClassType:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o["a"])({classId:e.typeId});case 3:n=t.sent,(n.resultCode="0000")&&(r=n.data,r.unshift({name:"全部",subclassId:""}),e.majorClassList=r),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},change:function(e){this.pageNo=1},onConfirm:function(e){switch(this.levelName=e,e){case"全部":this.levelId="";break;case"本科":this.levelId=1;break;case"专科":this.levelId=2;break}this.showpicker=!1,this.init()},onCancel:function(){this.showpicker=!1},selectTypeId:function(e){e.value!=this.typeId&&(this.typeId=e.value,this.typeName=e.text,this.isChangeType=!0,this.getMajorClassType())},selectClassId:function(e){this.classId=e.subclassId,this.className=e.name,this.isChangeType=!1},cancel:function(){this.showOptions=!1},sure:function(){this.showOptions=!1,this.isChangeType&&(this.classId="",this.className="全部"),this.tempClassName=this.className,this.tempTypeName=this.typeName,this.init()}}},l=c,u=(n("a24c"),n("cba8")),p=Object(u["a"])(l,r,a,!1,null,"9bd1e05e",null);t["default"]=p.exports},"80c4":function(e,t,n){},a24c:function(e,t,n){"use strict";n("80c4")},e101:function(e,t){e.exports={title:"2021高考志愿大数据分析-测试版",baseURL:"https://apizy.eol.cn/niuzy/",time:6e3,retry:2,retryDelay:1e3,APPID:"xxx",APPSECRET:"xxx",redirect:"",$cdn:"https://s3.ax1x.com"}},f121:function(e,t,n){var r="production",a=n("7609")("./env."+r);e.exports=a},f1e0:function(e,t){e.exports={title:"2021高考志愿大数据分析",baseURL:"https://apizy.eol.cn/niuzy/",time:6e3,retry:2,retryDelay:1e3,APPID:"xxx",APPSECRET:"xxx",redirect:"",$cdn:"https://s3.ax1x.com"}},f96b:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"l",(function(){return d})),n.d(t,"s",(function(){return m})),n.d(t,"m",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return g})),n.d(t,"p",(function(){return v})),n.d(t,"r",(function(){return y})),n.d(t,"q",(function(){return _})),n.d(t,"o",(function(){return C})),n.d(t,"n",(function(){return x})),n.d(t,"e",(function(){return b})),n.d(t,"h",(function(){return I})),n.d(t,"f",(function(){return j})),n.d(t,"i",(function(){return k})),n.d(t,"g",(function(){return w})),n.d(t,"t",(function(){return T})),n.d(t,"u",(function(){return N})),n.d(t,"d",(function(){return P})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return L}));n("7c78"),n("5c8b");var r=n("e1df"),a=(n("275f"),n("f9ee"),n("4ff3")),s=n.n(a),i=n("f121");s.a.defaults.timeout=i["time"],s.a.defaults.retry=i["retry"],s.a.defaults.retryDelay=i["retryDelay"];var o=[],c=function(e,t,n,r){var a=r||"";if(e.length>0)for(var s=0;s<e.length;s++)if(e[s].url===t.url)return void n(a);e.push({url:t.url})},l=function(e,t){for(var n=0;n<e.length;n++)if(e[n].url===t.url){e.splice(n,1);break}};function u(e){var t={baseURL:i["baseURL"]};return Object.assign(e,t),new Promise((function(t,n){s()(e).then((function(e){e&&t(e.data)})).catch((function(e){n(e)}))}))}s.a.interceptors.request.use((function(e){var t=null;return e.cancelToken=new s.a.CancelToken((function(e){t=e})),c(o,e,t,"重复请求"),e.loading&&r["a"].loading({message:e.loading||"加载中...",forbidClick:!0,loadingType:"spinner",duration:0}),e}),(function(e){return Promise.reject(e)})),s.a.interceptors.response.use((function(e){return r["a"].clear(),l(o,e.config),200==e.status||r["a"].fail("服务器去火星了"),e}),(function(e){r["a"].clear();var t=e.config,n=e.code,a=e.message;if(-1!==a.indexOf("timeout")||"ECONNABORTED"===n){if(r["a"].fail("网络似乎不顺畅, 正在重试中..."),l(o,t),!t||!t.retry)return Promise.reject(e);if(t.__retryCount=t.__retryCount||0,t.__retryCount>=t.retry)return r["a"].fail("网速超慢, 请稍候重试"),Promise.reject(e);t.__retryCount+=1;var i=new Promise((function(e){setTimeout((function(){e()}),t.retryDelay||1)}));return i.then((function(){return s()(t)}))}return Promise.reject(e)}));var p=function(e){return u({method:"get",url:"score/getChoiceMode",params:e})},d=function(e){return u({method:"get",url:"eol_report/getReportCountByProvince",params:e,loading:"查询中"})},m=function(e){return u({method:"get",url:"eol_report/getReportUnivPage",params:e})},f=function(e){return u({method:"get",url:"eol_report/getReportMajorPage",params:e,loading:"查询中"})},h=function(e){return u({method:"get",url:"eol_report/getReportCityPage",params:e,loading:"查询中"})},g=function(e){return u({method:"get",url:"eol_report/getReportCityOuterPage",params:e,loading:"查询中"})},v=function(e){return u({method:"get",url:"eol_report_same/getReportSameCountByProvince",params:e,loading:"查询中"})},y=function(e){return u({method:"get",url:"eol_report_same/getReportSameUnivPage",params:e})},_=function(e){return u({method:"get",url:"eol_report_same/getReportSameMajorPage",params:e})},C=function(e){return u({method:"get",url:"eol_report_same/getReportSameCityPage",params:e,loading:"查询中"})},x=function(e){return u({method:"get",url:"eol_report_same/getReportSameCityOuterPage",params:e,loading:"查询中"})},b=function(e){return u({method:"get",url:"eol_report_all/getReportAllCount",params:e,loading:"查询中"})},I=function(e){return u({method:"get",url:"eol_report_all/getReportAllUnivPage",params:e})},j=function(e){return u({method:"get",url:"eol_report_all/getReportAllMajorPage",params:e})},k=function(e){return u({method:"get",url:"eol_report_all/getReportAllProvincePage",params:e,loading:"查询中"})},w=function(e){return u({method:"get",url:"eol_report_all/getReportAllCityPage",params:e,loading:"查询中"})},T=function(e){return u({method:"get",url:"eol_comm/geUnivLevel",params:e,loading:"查询中"})},N=function(e){return u({method:"get",url:"eol_comm/getUnivType",params:e,loading:"查询中"})},P=function(e){return u({method:"get",url:"eol_comm/getMajorType",params:e,loading:"查询中"})},O=function(e){return u({method:"get",url:"eol_comm/getMajorClassType",params:e,loading:"查询中"})},L=function(e){return u({method:"get",url:"common/getRank",params:e})}}}]);