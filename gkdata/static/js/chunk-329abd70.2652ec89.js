(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-329abd70"],{1:function(e,t){},"259b":function(e,t){e.exports={title:"2021高考志愿大数据分析-省榜--测试",baseURL:"https://apizy.eol.cn/niuzy/",time:6e3,retry:2,retryDelay:1e3,APPID:"xxx",APPSECRET:"xxx",redirect:"",$cdn:"https://s3.ax1x.com"}},"2b82":function(e){e.exports=JSON.parse('{"data":[{"province":"北京","eolProvId":11,"provinceId":1},{"province":"天津","eolProvId":12,"provinceId":2},{"province":"辽宁","eolProvId":21,"provinceId":3},{"province":"河北","eolProvId":13,"provinceId":4},{"province":"河南","eolProvId":41,"provinceId":5},{"province":"吉林","eolProvId":22,"provinceId":6},{"province":"黑龙江","eolProvId":23,"provinceId":7},{"province":"内蒙古","eolProvId":15,"provinceId":8},{"province":"山东","eolProvId":37,"provinceId":9},{"province":"山西","eolProvId":14,"provinceId":10},{"province":"陕西","eolProvId":61,"provinceId":11},{"province":"甘肃","eolProvId":62,"provinceId":12},{"province":"宁夏","eolProvId":64,"provinceId":13},{"province":"青海","eolProvId":63,"provinceId":14},{"province":"新疆","eolProvId":65,"provinceId":15},{"province":"上海","eolProvId":31,"provinceId":16},{"province":"江苏","eolProvId":32,"provinceId":17},{"province":"浙江","eolProvId":33,"provinceId":18},{"province":"安徽","eolProvId":34,"provinceId":19},{"province":"广东","eolProvId":44,"provinceId":20},{"province":"海南","eolProvId":46,"provinceId":21},{"province":"广西","eolProvId":45,"provinceId":22},{"province":"云南","eolProvId":53,"provinceId":23},{"province":"贵州","eolProvId":52,"provinceId":24},{"province":"四川","eolProvId":51,"provinceId":25},{"province":"重庆","eolProvId":50,"provinceId":26},{"province":"福建","eolProvId":35,"provinceId":30},{"province":"江西","eolProvId":36,"provinceId":31},{"province":"湖南","eolProvId":43,"provinceId":32},{"province":"湖北","eolProvId":42,"provinceId":33}]}')},7609:function(e,t,r){var n={"./env.development":"259b","./env.development.js":"259b","./env.production":"f1e0","./env.production.js":"f1e0","./env.staging":"e101","./env.staging.js":"e101"};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id="7609"},"8f11":function(e,t,r){"use strict";r("df53")},df53:function(e,t,r){},e101:function(e,t){e.exports={title:"2021高考志愿大数据分析-测试版",baseURL:"https://apizy.eol.cn/niuzy/",time:6e3,retry:2,retryDelay:1e3,APPID:"xxx",APPSECRET:"xxx",redirect:"",$cdn:"https://s3.ax1x.com"}},f121:function(e,t,r){var n="production",o=r("7609")("./env."+n);e.exports=o},f1e0:function(e,t){e.exports={title:"2021高考志愿大数据分析",baseURL:"https://apizy.eol.cn/niuzy/",time:6e3,retry:2,retryDelay:1e3,APPID:"xxx",APPSECRET:"xxx",redirect:"",$cdn:"https://s3.ax1x.com"}},f96b:function(e,t,r){"use strict";r.d(t,"b",(function(){return p})),r.d(t,"l",(function(){return d})),r.d(t,"s",(function(){return v})),r.d(t,"m",(function(){return f})),r.d(t,"k",(function(){return g})),r.d(t,"j",(function(){return m})),r.d(t,"p",(function(){return h})),r.d(t,"r",(function(){return I})),r.d(t,"q",(function(){return y})),r.d(t,"o",(function(){return P})),r.d(t,"n",(function(){return _})),r.d(t,"e",(function(){return x})),r.d(t,"h",(function(){return b})),r.d(t,"f",(function(){return C})),r.d(t,"i",(function(){return L})),r.d(t,"g",(function(){return k})),r.d(t,"t",(function(){return R})),r.d(t,"u",(function(){return j})),r.d(t,"d",(function(){return O})),r.d(t,"a",(function(){return w})),r.d(t,"c",(function(){return S}));r("7c78"),r("5c8b");var n=r("e1df"),o=(r("275f"),r("f9ee"),r("4ff3")),i=r.n(o),a=r("f121");i.a.defaults.timeout=a["time"],i.a.defaults.retry=a["retry"],i.a.defaults.retryDelay=a["retryDelay"];var c=[],s=function(e,t,r,n){var o=n||"";if(e.length>0)for(var i=0;i<e.length;i++)if(e[i].url===t.url)return void r(o);e.push({url:t.url})},l=function(e,t){for(var r=0;r<e.length;r++)if(e[r].url===t.url){e.splice(r,1);break}};function u(e){var t={baseURL:a["baseURL"]};return Object.assign(e,t),new Promise((function(t,r){i()(e).then((function(e){e&&t(e.data)})).catch((function(e){r(e)}))}))}i.a.interceptors.request.use((function(e){var t=null;return e.cancelToken=new i.a.CancelToken((function(e){t=e})),s(c,e,t,"重复请求"),e.loading&&n["a"].loading({message:e.loading||"加载中...",forbidClick:!0,loadingType:"spinner",duration:0}),e}),(function(e){return Promise.reject(e)})),i.a.interceptors.response.use((function(e){return n["a"].clear(),l(c,e.config),200==e.status||n["a"].fail("服务器去火星了"),e}),(function(e){n["a"].clear();var t=e.config,r=e.code,o=e.message;if(-1!==o.indexOf("timeout")||"ECONNABORTED"===r){if(n["a"].fail("网络似乎不顺畅, 正在重试中..."),l(c,t),!t||!t.retry)return Promise.reject(e);if(t.__retryCount=t.__retryCount||0,t.__retryCount>=t.retry)return n["a"].fail("网速超慢, 请稍候重试"),Promise.reject(e);t.__retryCount+=1;var a=new Promise((function(e){setTimeout((function(){e()}),t.retryDelay||1)}));return a.then((function(){return i()(t)}))}return Promise.reject(e)}));var p=function(e){return u({method:"get",url:"score/getChoiceMode",params:e})},d=function(e){return u({method:"get",url:"eol_report/getReportCountByProvince",params:e,loading:"查询中"})},v=function(e){return u({method:"get",url:"eol_report/getReportUnivPage",params:e})},f=function(e){return u({method:"get",url:"eol_report/getReportMajorPage",params:e,loading:"查询中"})},g=function(e){return u({method:"get",url:"eol_report/getReportCityPage",params:e,loading:"查询中"})},m=function(e){return u({method:"get",url:"eol_report/getReportCityOuterPage",params:e,loading:"查询中"})},h=function(e){return u({method:"get",url:"eol_report_same/getReportSameCountByProvince",params:e,loading:"查询中"})},I=function(e){return u({method:"get",url:"eol_report_same/getReportSameUnivPage",params:e})},y=function(e){return u({method:"get",url:"eol_report_same/getReportSameMajorPage",params:e})},P=function(e){return u({method:"get",url:"eol_report_same/getReportSameCityPage",params:e,loading:"查询中"})},_=function(e){return u({method:"get",url:"eol_report_same/getReportSameCityOuterPage",params:e,loading:"查询中"})},x=function(e){return u({method:"get",url:"eol_report_all/getReportAllCount",params:e,loading:"查询中"})},b=function(e){return u({method:"get",url:"eol_report_all/getReportAllUnivPage",params:e})},C=function(e){return u({method:"get",url:"eol_report_all/getReportAllMajorPage",params:e})},L=function(e){return u({method:"get",url:"eol_report_all/getReportAllProvincePage",params:e,loading:"查询中"})},k=function(e){return u({method:"get",url:"eol_report_all/getReportAllCityPage",params:e,loading:"查询中"})},R=function(e){return u({method:"get",url:"eol_comm/geUnivLevel",params:e,loading:"查询中"})},j=function(e){return u({method:"get",url:"eol_comm/getUnivType",params:e,loading:"查询中"})},O=function(e){return u({method:"get",url:"eol_comm/getMajorType",params:e,loading:"查询中"})},w=function(e){return u({method:"get",url:"eol_comm/getMajorClassType",params:e,loading:"查询中"})},S=function(e){return u({method:"get",url:"common/getRank",params:e})}},fb7e:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"schoolList"},[r("van-sticky",[r("div",{staticClass:"nav"},[r("van-nav-bar",{staticClass:"_nav-bar",attrs:{title:e.title,"left-arrow":e.arrow},on:{"click-left":function(t){return e.$router.back()}}}),r("van-dropdown-menu",{attrs:{"active-color":"#f60"}},[r("van-dropdown-item",{attrs:{options:e.provList},on:{change:e.change},model:{value:e.choiceProvinceId,callback:function(t){e.choiceProvinceId=t},expression:"choiceProvinceId"}}),r("van-dropdown-item",{attrs:{options:e.levelList},on:{change:e.change},model:{value:e.levelId,callback:function(t){e.levelId=t},expression:"levelId"}}),r("van-dropdown-item",{attrs:{options:e.typeList},on:{change:e.change},model:{value:e.typeId,callback:function(t){e.typeId=t},expression:"typeId"}})],1)],1)]),r("van-list",{attrs:{finished:e.finished,"immediate-check":e.check,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.univList,(function(t,n){return r("div",{key:t.univName,staticClass:"item",attrs:{title:t}},[r("div",{staticClass:"flex"},[r("div",{staticClass:"rank",class:{bc:n<3}},[e._v(e._s(n+1))]),t.eolUnivId?r("img",{staticClass:"img",attrs:{src:"https://static-data.eol.cn/upload/logo/"+t.eolUnivId+".jpg"}}):e._e(),r("div",{staticClass:"ml"},[r("p",{staticClass:"name"},[e._v(e._s(t.univName))]),t.label?r("p",{staticClass:"label"},[e._v(e._s(t.label))]):e._e()])]),r("div",{staticClass:"count"},[e._v(" "+e._s(e._f("formatNum")(t.reportNum))+" "),r("span",{staticClass:"num"},[e._v("万")]),r("span",{staticClass:"tag"},[e._v("次")])])])})),0)],1)},o=[],i=r("0344"),a=r("e9ff"),c=(r("e186"),r("4cfc"),r("cd8f"),r("2c7c"),r("9b7e"),r("f96b")),s=r("2b82"),l={name:"schoolList",data:function(){return{arrow:!0,check:!1,title:"",provList:[],provinceId:"",choiceProvinceId:"",typeId:"",levelId:"",majorTypeId:"",score:"",pageNo:1,pageSize:10,univList:[],typeList:[],levelList:[],loading:!1,finished:!1}},created:function(){switch(this.type=this.$route.query.type,this.provinceId=Number(this.$route.query.id),this.majorTypeId=this.$route.query.majorTypeId||"",this.score=this.$route.query.score||"",this.type){case"1":this.title="考生填报院校TOP300";break;case"2":this.title="同分考生报考院校TOP100";break;case"3":this.title="全国考生填报院校TOP500";break}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=s.data;this.provList.push({text:"全部",value:""}),t.forEach((function(t){e.provList.push({text:t.province,value:t.provinceId})}));var r=sessionStorage.getItem("_typeList")||"",n=sessionStorage.getItem("_levelList")||"";r&&n?(this.typeList=JSON.parse(r),this.levelList=JSON.parse(n)):(this.getType(),this.getLevel()),this.getReportAllCityUnivPage()},onLoad:function(){this.loading&&(this.pageNo++,this.getReportAllCityUnivPage())},getReportAllCityUnivPage:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,t.prev=1,"1"!=e.type){t.next=6;break}return t.next=5,Object(c["s"])({pageNo:e.pageNo,pageSize:e.pageSize,provinceId:e.provinceId,typeId:e.typeId,levelId:e.levelId,choiceProvinceId:e.choiceProvinceId});case 5:r=t.sent;case 6:if("2"!=e.type){t.next=10;break}return t.next=9,Object(c["r"])({pageNo:e.pageNo,pageSize:e.pageSize,provinceId:e.provinceId,typeId:e.typeId,levelId:e.levelId,score:e.score,majorTypeId:e.majorTypeId,choiceProvinceId:e.choiceProvinceId});case 9:r=t.sent;case 10:if("3"!=e.type){t.next=14;break}return t.next=13,Object(c["h"])({pageNo:e.pageNo,pageSize:e.pageSize,provinceId:e.choiceProvinceId,typeId:e.typeId,levelId:e.levelId});case 13:r=t.sent;case 14:"0000"==r.resultCode&&(e.univList=[].concat(Object(i["a"])(e.univList),Object(i["a"])(r.data.list)),e.loading=!1,r.data.list.length<e.pageSize&&(e.finished=!0)),t.next=19;break;case 17:t.prev=17,t.t0=t["catch"](1);case 19:case"end":return t.stop()}}),t,null,[[1,17]])})))()},getType:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c["u"])();case 3:r=t.sent,(r.resultCode="0000")&&(n=r.data,e.typeList.push({text:"全部",value:""}),n.forEach((function(t){e.typeList.push({text:t.name,value:t.id})})),sessionStorage.setItem("_typeList",JSON.stringify(e.typeList))),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getLevel:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c["t"])();case 3:r=t.sent,(r.resultCode="0000")&&(n=r.data,e.levelList.push({text:"全部",value:""}),n.forEach((function(t){e.levelList.push({text:t.name,value:t.id})})),sessionStorage.setItem("_levelList",JSON.stringify(e.levelList))),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},change:function(e){this.pageNo=1,this.univList=[],this.getReportAllCityUnivPage()}}},u=l,p=(r("8f11"),r("cba8")),d=Object(p["a"])(u,n,o,!1,null,"1974c345",null);t["default"]=d.exports}}]);